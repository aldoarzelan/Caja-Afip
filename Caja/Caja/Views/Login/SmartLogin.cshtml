@using Caja.Models
@model LoginViewModel
@{
    ViewBag.Title = "Login";
    Layout = null;
    ViewData["Url"] = "~/Facturacion/Index";
}
<!DOCTYPE html>

<html lang="en">
<head>
    <title>Borigen Betzel</title>
    <!-- Meta tag Keywords -->
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="keywords" content="" />
    <script type="application/x-javascript">
         addEventListener("load", function() { setTimeout(hideURLbar, 0); }, false);
        function hideURLbar(){ window.scrollTo(0,1); } </script>
    <!-- Meta tag Keywords -->
    <!-- css files -->
    <link href="~/Content/smart_login/css/style.css" rel="stylesheet" type="text/css" media="all">
    <!-- online-fonts -->
    <link href="//fonts.googleapis.com/css?family=Roboto+Slab:100,300,400,700Roboto:100,100i,300,300i,400,400i,500,500i,700,700i,900,900iSlabo+27px&subset=cyrillic,cyrillic-ext,greek,greek-ext,latin-ext,vietnamese" rel="stylesheet">
    <!--//online-fonts -->
    <meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">
    <!-- Bootstrap 3.3.7 -->
    <link rel="stylesheet" href="~/Content/bower_components/bootstrap/dist/css/bootstrap.min.css">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="~/Content/bower_components/font-awesome/css/font-awesome.min.css">
    <!-- Ionicons -->
    <link rel="stylesheet" href="~/Content/bower_components/Ionicons/css/ionicons.min.css">
    <!-- Theme style -->
    <link rel="stylesheet" href="~/Content/dist/css/AdminLTE.min.css">
    <!-- AdminLTE Skins. Choose a skin from the css/skins
         folder instead of downloading all of them to reduce the load. -->
    <link rel="stylesheet" href="~/Content/dist/css/skins/_all-skins.min.css">
    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <!-- Google Font -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600,700,300italic,400italic,600italic">
    <style>
        .example-modal .modal {
            position: relative;
            top: auto;
            bottom: auto;
            right: auto;
            left: auto;
            display: block;
            z-index: 1;
        }

        .example-modal .modal {
            background: transparent !important;
        }
    </style>
    </head>
    <body>
        <!--header-->
        <div class="agileheader">
            <h1>Borigen Betzel</h1>
        </div>
        <!--//header-->
        <!--main-->
        <div class="main-w3l">
            <div class="w3layouts-main">
                <h2>Iniciar sesion</h2>
                @using (Html.BeginForm("ValidaConexion", "Login", FormMethod.Post, new { @class = "form-horizontal", role = "form" }))
                {

                    @Html.AntiForgeryToken()
                    <div class="form-group has-feedback">
                        @Html.TextBoxFor(m => m.Usuario, new { @class = "form-control", @placeholder = "Usuario", @type = "text" })
                        <!--Html.ValidationMessageFor(m => m.Usuario, "", new { class = "text-danger", placeholder = "Usuario" })-->
                    </div>
                    <div class="form-group has-feedback">
                        @Html.PasswordFor(m => m.Password, new { @class = "form-control", @placeholder = "Contraseña" })
                         <!--Html.ValidationMessageFor(m => m.Password, "", new { class = "text-danger", placeholder = "Contraseña" })-->
                       <!-- <span class="glyphicon glyphicon-lock form-control-feedback"></span>-->
                    </div>                    
                    <input type="submit" value="Ingresar" name="login" />
                }


                <div class="editor-label">
                    <p> @ViewBag.Mensaje</p>
                </div>
                <div class="editor-label">
                    @if (ViewBag.Recupera != null)
                    {
                        if (ViewBag.Recupera.ToUpper() == "TRUE")
                        {

                            <div class="modal modal-info fade" id="modal-info">
                                <div class="modal-dialog">
                                    <div class="modal-content">
                                        <div class="modal-header">
                                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                                <span aria-hidden="true">&times;</span>
                                            </button>
                                            <h4 class="modal-title">La clave a expirado, debe cambiarla.</h4>
                                        </div>
                                        <div class="modal-body">
                                            <!--<p>cambiar clave&hellip;</p>-->
                                            @using (@Html.BeginForm("RecuperarClave", "Login", FormMethod.Post, new { @class = "form-horizontal", role = "form" }))
                                            {

                                                @Html.AntiForgeryToken()
                                                <div class="form-group has-feedback">
                                                    @Html.TextBoxFor(m => m.Usuario , new { @class = "white", @placeholder = "Usuario", @type = "text" })
                                                </div>
                                                <div class="form-group has-feedback">
                                                    @Html.PasswordFor(m => m.Password, new { @class = "white", @placeholder = "Contraseña" })
                                                </div>
                                                <div class="form-group has-feedback">
                                                    @Html.PasswordFor(m => m.PasswordNew, new { @class = "white", @placeholder = "Contraseña nueva" })
                                                </div>
                                                <div class="form-group has-feedback">
                                                    @Html.PasswordFor(m => m.PasswordNew2, new { @class = "white", @placeholder = "Reingrese Nueva Contraseña" })
                                                </div>
                                                <input type="submit" value="Cambiar Clave" name="cambiar" />   
                                                                                         
                                            }
                                        </div>
                                    </div>
                                    <!-- /.modal-content -->
                                </div>
                                <!-- /.modal-dialog -->
                            </div>
        <!-- /.modal -->
                        }
                    }
                </div>

            </div>
            
        </div>
        <!--//main-->
                
        <!--footer-->
        <div class="footer-w3l">
            <p>&copy; Borigen Betzel <a href="http://cbbsrl.dynalias.com/">Borigen Betzel</a></p>
        </div>
        <!--//footer-->

        <!-- jQuery 3 -->
        <script src="~/Content/bower_components/jquery/dist/jquery.min.js"></script>
        <!-- Bootstrap 3.3.7 -->
        <script src="~/Content/bower_components/bootstrap/dist/js/bootstrap.min.js"></script>
        <!-- FastClick -->
        <script src="~/Content/bower_components/fastclick/lib/fastclick.js"></script>
        <!-- AdminLTE App -->
        <script src="~/Content/dist/js/adminlte.min.js"></script>
        <!-- AdminLTE for demo purposes -->
        <script src="~/Content/dist/js/demo.js"></script>

        <script type="text/javascript">
            $('#modal-info').modal('show');
        </script>
    </body>
</html>
